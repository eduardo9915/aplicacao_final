=== VERIFICAÇÃO DE ESTOQUE ===
Data: 2026-01-15 20:21:04

--- Estrutura da tabela PRODUTO ---
id_produto - int(11)
nome_produto - varchar(100)
discriminacao_produto - varchar(100)
tipo_produto - enum('EPI','EPC')
marca_produto - varchar(100)
validade_produto - date
ca_produto - varchar(100)
ca_data_validade_produto - date
data_registro_produto - date

--- Estrutura da tabela ESTOQUE ---
id_estoque - int(11)
quantidade_produto_estoque - int(11)
data_entrada_estoque - date
data_saida_estoque - date
produto_estoque - int(11)

=== DADOS EXISTENTES ===

--- Produtos cadastrados ---
Total de produtos: 7
ID: 2 - Nome: Capacete
ID: 3 - Nome: Colete
ID: 4 - Nome: Colete Verde
ID: 7 - Nome: Extintor de incêndio
ID: 1 - Nome: Luva
ID: 5 - Nome: Luva A
ID: 6 - Nome: Par de luvas

--- Registros de estoque ---
Total de registros em estoque: 3
<br />
<b>Warning</b>:  Undefined array key "quantidade_estoque" in <b>C:\xampp\htdocs\code\epi-app-t3\debug_estoque.php</b> on line <b>44</b><br />
ID: 2 - Produto: 5 - Quantidade: 
<br />
<b>Warning</b>:  Undefined array key "quantidade_estoque" in <b>C:\xampp\htdocs\code\epi-app-t3\debug_estoque.php</b> on line <b>44</b><br />
ID: 3 - Produto: 6 - Quantidade: 
<br />
<b>Warning</b>:  Undefined array key "quantidade_estoque" in <b>C:\xampp\htdocs\code\epi-app-t3\debug_estoque.php</b> on line <b>44</b><br />
ID: 4 - Produto: 7 - Quantidade: 

=== TESTE DE CONSULTA FINAL ===
SQL: SELECT p.*, COALESCE(SUM(e.quantidade_estoque), 0) as quantidade_estoque 
            FROM produto p 
            LEFT JOIN estoque e ON p.id_produto = e.produto_estoque 
            GROUP BY p.id_produto 
            ORDER BY p.nome_produto

ERRO: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'e.quantidade_estoque' in 'field list'
Stack trace: #0 C:\xampp\htdocs\code\epi-app-t3\debug_estoque.php(59): PDOStatement->execute()
#1 {main}
